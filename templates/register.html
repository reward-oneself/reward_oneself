<!-- Copyright (C) 2025 陈子涵
    Contact information:
    Tel:18750386615
    Email:2502820816@qq.com

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <https://www.gnu.org/licenses/>. -->


<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <!-- 添加移动端适配视口设置 -->
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.2.3/css/bootstrap.min.css" rel="stylesheet">
<link href="{{ url_for('static', filename='css.css') }}" rel="stylesheet">

    <title>用户注册</title>
    <script>
        function validateRegisterForm() {
            // 获取表单元素
            const username = document.forms["registerForm"]["username"].value;
            const password = document.forms["registerForm"]["password"].value;
            
            // 验证用户名
            if (username == null || username.trim() === "") {
                alert("请输入用户名");
                return false;
            }
            
            // 验证密码
            if (password == null || password === "") {
                alert("请输入密码");
                return false;
            }
            
            // 验证密码长度
            if (password.length < 6) {
                alert("密码长度至少为6位");
                return false;
            }
            
            return true;
        }
    </script>
</head>

<body>
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
    {% for category, message in messages %}
    <div class="{{ category }}">
        <div class="alert alert-warning mb-4 text-center">
            {{ message }}
        </div>
    </div>
    {% endfor %}
    {% endif %}
    {% endwith %}
    <h1 class="title">注册</h1>
    <form name="registerForm" action="/register_submit" method="post" onsubmit="return validateRegisterForm()" class="container mt-5" style="max-width: 500px;">
        <input name="csrf_token" type="hidden" value="{{ csrf_token() }}">
        <div class="mb-3">
             <label  for="username">用户名</label>
            <input class="form-control" id="username" name="username" required type="text">
        </div>
        <div class="mb-3">
             <label  for="password">密码（至少6位）</label>
            <input class="form-control" id="password" name="password" required type="password">
        </div>
        <button type="submit" class="btn btn-primary w-100">📝注册</button>
    </form>

    <a href="/login">🚪返回登录</a>
    <footer class="footer">
        <p style="text-align: center;"><a href="/about">关于本应用</a></p>
    </footer>
<script src="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.2.3/js/bootstrap.bundle.min.js"></script>
</body>

</html>